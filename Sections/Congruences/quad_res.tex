\section{Quadratic Residues}

Quadratic residues pertain to congruences of form $z^2\equiv a\pmod{p}$, where $p$ is prime. Though we start
with general observations of residues produced by powers.

\begin{Def}[Residue Classes of Powers]

    \label{def:res_class_powers}

   We shall extend $\mathbb{Z}_n^*$ to powers, such that for all $\beta\in\mathbb{Z}_n^*$:
    \LARGE\[(\mathbb{Z}_n^*)^m:=\{\beta^m\pmod*{n}\}\]
\normalsize

\noindent
The set $(\mathbb{Z}_n^*)^m$ from $\mathbb{Z}_n^*$ at the very least holds $[1]_n$.
\end{Def}
\noindent To illustrate our definition, we'll re-use our previous example $(\mathbb{Z}_7^*)^m$:


\[
    \begin{array}{|c|g|c|g|c|g|c|}
    \hline
    m & (\mathbb{Z}_7^*)^1 & (\mathbb{Z}_7^*)^2 & (\mathbb{Z}_7^*)^3 & (\mathbb{Z}_7^*)^4 & (\mathbb{Z}_7^*)^5 & (\mathbb{Z}_7^*)^6 \\
    \hline
    1^m \text{ mod } 7 & 1 & 1 & 1 & 1 & 1 & 1 \\
    2^m \text{ mod } 7 & 2 & 4 & 1 & 2 & 4 & 1 \\
    3^m \text{ mod } 7 & 3 & 2 & 6 & 4 & 5 & 1 \\
    4^m \text{ mod } 7 & 4 & 2 & 1 & 4 & 2 & 1 \\
    5^m \text{ mod } 7 & 5 & 4 & 6 & 2 & 3 & 1 \\
    6^m \text{ mod } 7 & 6 & 1 & 6 & 1 & 6 & 1 \\
    \hline
    \end{array}
    \]
    \noindent
    We see $(\mathbb{Z}_n^*)^1=\{1,2,3,4,5,6\}$, $(\mathbb{Z}_n^*)^2=\{1,2,4\}$, $(\mathbb{Z}_n^*)^3=\{1,6\}$, annd so on.
    \newpage

    \noindent
    For emphasis of our definition:
    \begin{theo}[Intersection of $\mathbb{Z}_n^*$ Powers]
        
        Let, $\alpha,\beta\in\mathbb{Z}_n^*$ and all $l,m\in\mathbb{Z}$,\\
        If $\alpha^l\equiv \beta^m \pmod*{n}$ then their residue $r$ is in both $(\mathbb{Z}_n^*)^m$ and in $(\mathbb{Z}_n^*)^l$.
    \end{theo}
    \textbf{Example:} As $(\mathbb{Z}_n^*)^1=\{1,2,3,4,5,6\}$, $(\mathbb{Z}_n^*)^2=\{1,2,4\}$, both have 1,2, and 4 in common.

\begin{theo}[Properties of Powers $(\mathbb{Z}_n^*)^m$]

\label{theo:res_class_powers}

Let \(n\) be a positive integer, let \(\alpha, \beta \in \mathbb{Z}_n^*\), and let \(m\) be any integer.

\begin{itemize}
    \item[(i)] If \(\alpha \in (\mathbb{Z}_n^*)^m\), then \(\alpha^{-1} \in (\mathbb{Z}_n^*)^m\).
    \item[(ii)] If \(\alpha \in (\mathbb{Z}_n^*)^m\) and \(\beta \in (\mathbb{Z}_n^*)^m\), then \(\alpha \beta \in (\mathbb{Z}_n^*)^m\).
    \item[(iii)] If \(\alpha \in (\mathbb{Z}_n^*)^m\) and \(\beta \notin (\mathbb{Z}_n^*)^m\), then \(\alpha \beta \notin (\mathbb{Z}_n^*)^m\).
\end{itemize}
\end{theo}

\begin{Proof}[Properties of Powers $(\mathbb{Z}_n^*)^m$]

    Let \(n\) be a positive integer, let \(\alpha, \beta \in \mathbb{Z}_n^*\), and let \(m\) be any integer.
    \begin{itemize}
        \item [(i)] If \(\alpha \equiv \gamma^m \pmod{n}\), then \(\alpha^{-1} \equiv (\gamma^{-1})^m \pmod{n}\)
        \item [(ii)] If \(\alpha \equiv \gamma^m \pmod{n}\) and \(\beta \equiv \delta^m \pmod{n}\), then \(\alpha \beta \equiv (\gamma \delta)^m \pmod{n}\)
        \item [(iii)] Assume \(\alpha \in (\mathbb{Z}_n^*)^m\), \(\beta \notin (\mathbb{Z}_n^*)^m\), and \(\alpha \beta \in (\mathbb{Z}_n^*)^m\). Then by (i), \(\alpha^{-1} \in (\mathbb{Z}_n^*)^m\), we have by (ii),
         \(\beta = \alpha^{-1}(\alpha \beta)\equiv \beta \pmod*{n}\); However \(\beta \notin (\mathbb{Z}_n^*)^m\), which is a contradiction.
    \end{itemize}
   
\end{Proof}

\begin{Note}
    \textbf{Note:} For $\alpha := [a] \in \mathbb{Z}_n$ and $b \in \mathbb{Z}$, we will often switch between $\alpha = b$ and $\alpha \equiv b \pmod{n}$, as $\alpha$ represents an element for which either equality or congruence holds.
\end{Note}
\begin{Tip}
Pierre de Fermat (1601-1665) was a French lawyer and mathematician. Born in Beaumont-de-Lomagne, France, Fermat is best known for his work in number theory, analytic geometry, and probability. His famous ``Fermat's Last Theorem" remained unsolved for over 350 years. He claimed $an+bn=cn:n>2$ has no integer solution.
\end{Tip}


\newpage 

\begin{theo}[Coprime Powers $\mathbb{Z}_n^*$]
    
    Let $n\in\mathbb{Z^+}$, $\alpha\in\mathbb{Z}_n^*$ and all $l,m\in\mathbb{Z}$. Then:
    \Large\[\gcd(l,m)=1 \text{ and } \alpha^l\in(\mathbb{Z}_n^*)^m \implies \alpha\in(\mathbb{Z}_n^*)^m\]
    \normalsize    
\end{theo}


\begin{Proof}[Coprime Powers $\mathbb{Z}_n^*$]
    For $\alpha^l\in(\mathbb{Z}_n^*)^m$ to exists means, $\alpha^l = \beta^m\pmod*{n}$ for some $\beta\in\mathbb{Z}_n^*$.
    Since $\gcd(l,m)=1$, by Bezout's Identity, there exists $ls+mt=1$ for some $s,t\in\mathbb{Z}$.
    \[
    a^1 = a^{ls+mt} = a^{ls}a^{mt} = \left(a^l \right)^s a^{mt} = \left(\beta^{m}\right)^s\alpha^{mt} = \left(\beta^s\alpha^t\right)^m =: \gamma^m
    \]
\noindent
    Therefore, $\alpha=\gamma^m \pmod*{n}$, thus $\alpha\in(\mathbb{Z}_n^*)^m$.
\end{Proof}

\noindent

\begin{Def}[Quadratic Residue]

    Let $\alpha,n\in\mathbb{Z}$,$\beta\in\mathbb{Z}_n^*$, and $n>1$. Then,
    \begin{itemize}
        \item ``$\mathbf{\alpha}$ \textbf{is a quadratic residue modulo }$\textbf{n}$'' if $\gcd(\alpha,n)=1$ and $\alpha\equiv \beta^2\pmod{n}$.
        \item ``$\mathbf{\beta} \textbf{ is a square root of } \mathbf{\alpha} \textbf{ modulo } \mathbf{n}$'' if $\beta^2\equiv \alpha\pmod{n}$.
    \end{itemize}
    I.e., $a$ is a quadratic residue if $[a]\in(\mathbb{Z}_n^*)^2$.
\end{Def}

\subsection{Quadratic Residues Modulo Primes}
We shall consider odd primes $p$, i.e., primes greater than 2, as 2 creates special cases that can complicate some of our results on quadratic residues.

\begin{theo}[Square Roots of 1 Modulo $p$]

    \label{theo:square_roots_1}

    Let $p$ be an odd prime, and $\beta\in\mathbb{Z}_p$. Then $\beta^2=1\Longleftrightarrow \beta=\pm1$.
\end{theo}
\begin{Proof}[Square Roots of 1 Modulo $p$]
    For $\beta\in\mathbb{Z}_p$, if $\beta=\pm1$ then $\pm1^2\equiv 1\pmod{p}$. If $\beta^2=1$, then $\beta^2-1\equiv 0\pmod{p}$,
    and $p\mid(b^2-1)$. For difference of squares, $(b^2-1)=(b+1)(b-1)$, and since $p$ is prime,\\
    $p\mid(b+1)$ or $p\mid(b-1)$. Thus, $\beta\equiv \pm1\pmod{p}$.
\end{Proof}

\newpage

\noindent
\underline{To reduce repetition, we will use $\qres$,} to denote Quadratic Residues modulo odd primes $p$.
\begin{theo}[Square Roots $\qres$]
    
        Let $p$ be an odd prime, for $\gamma,\beta\in\mathbb{Z}_p^*$. Then $\gamma^2\equiv\beta^2\pmod{p}\Longleftrightarrow\gamma\equiv\pm\beta\pmod{p}$.\\
        I.e., for some $\alpha\in\mathbb{Z}_p^*$, \underline{if $\alpha=\beta^2$, then $\alpha$ has two square roots modulo $p$: $\pm\beta$.}
\end{theo}
\begin{Proof}[Square Roots $\qres$]
Following from the theorem proof we have,
\[\gamma^2 = \beta^2 \iff \frac{\gamma^2}{\beta^2} = 1 \iff \frac{\gamma}{\beta} = \pm 1 \iff \gamma = \pm \beta\]  
In terms of congruences, members of $\mathbb{Z}_p^*$, $\gamma$ and $\beta$ are invertible:
\begin{align*} 
\gamma^2 \equiv \beta^2 \pmod*{p} &\iff \gamma^2\cdot\beta^{-2} \equiv 1 \pmod*{p}\\
&\iff \gamma\cdot\beta^{-1} \equiv \pm 1 \pmod*{p}\\
&\iff \gamma \equiv \pm \beta \pmod*{p}
\end{align*}

\noindent

\end{Proof}

\begin{theo}[Cardinality of $\qres$]
    
    Let $p$ be an odd prime. Then,
     \Large\[|\qres|=\frac{(p-1)}{2}
     \]
     \normalsize
     \noindent
     Allowing us to represent $\qres$ as the interval $[1,(p-1)/2]$.
\end{theo}

\begin{Proof}[Cardinality of $\qres$]
    Let $\beta^2\in\qres$, then there are two square roots for $\beta^2$: $\pm\beta$. We define the map:
    \begin{align*}
        \sigma: \pres &\to \pres\\
        \pm\beta &\mapsto \beta^2 \text{ mod } p
    \end{align*}
    Since $\sigma$ is two-to-one where two elements from $\pres$ map to one element $\qres$, we cut our output in half.
    Hence, $|\qres|=\frac{|\pres|}{2}=\frac{p-1}{2}$.
\end{Proof}

\newpage




\begin{theo}[Euler's Criterion (Taking Square Root $\qres$)]

    Let $p$ be an odd prime and $\alpha\in\mathbb{Z}_p^*$. Then,
    \begin{enumerate}
        \item[(i)] $\alpha^{(p-1)/2} \equiv \pm1 \pmod{p}$
        \item[(ii)] If $\alpha\in\qres$, then $\alpha^{(p-1)/2}\equiv 1\pmod{p}$.
        \item[(iii)] If $\alpha\notin\qres$, then $\alpha^{(p-1)/2}\equiv -1\pmod{p}$.
    \end{enumerate}
\end{theo}

\begin{Note}
    \textbf{Note:} Remember for $a\in\mathbb{Z}$, that $a^\frac{1}{2}$ is cancelled by $(a^\frac{1}{2})^2=a$.
\end{Note}


\begin{Proof}[Euler's Criterion]

    \begin{enumerate}
        \item [(i)] Let $\gamma=\alpha^{(p-1)/2}$. Then $\gamma^2=\alpha^{p-1}=1$ (\ref{theo:fermat}). Then $\gamma=\pm1$ (\ref{theo:square_roots_1}).
        \item[(ii)] If $\alpha\in\qres$, $\alpha=\beta^2\in\mathbb{Z}_p^*$. Then $(\beta^2)^{(p-1)/2}=\alpha^{(p-1)/2}$.
        Then , $\beta^{p-1}\equiv 1 \pmod*{p}$ (\ref{theo:fermat}).
        \item[(iii)] We gather $|\qres|=(p-1)/2$. Then the other half of $\pres$ are quadratic non-residues, for which we define the set $\mathcal{P}$.
                     We describe $\mathcal{P}$'s image by map $\mu$:
                        \begin{align*}
                            \mu: \pres &\to \pres\\
                            \kappa\lambda &\mapsto \alpha\notin\qres
                        \end{align*}
                        For $\kappa,\lambda\in\pres:\kappa\neq\lambda$. Then, $\lambda=\frac{\alpha}{\kappa}$, so $\lambda$ is uniquely determined by $\kappa$.
                        We define the set $C:=\{\kappa\lambda\in\pres:\kappa\lambda=\alpha\}$, and $C\subseteq\mathcal{P}$. Then their product
                        \[\prod_{\{\kappa\lambda\in C\}}\kappa\lambda\enspace=\prod_{\{\kappa\lambda\in C\}}\alpha=\alpha^{(p-1)/2}\]
                        as a result of $\mathcal{P}$ containing $(p-1)/2$ many $\kappa\lambda$ pairs. We define $\epsilon:=\prod_{\{\kappa\lambda\in C\}}\kappa\lambda$,
                        and partition $D:=\{\{\kappa\lambda\}\in\mathcal{P}:\kappa\lambda=1\}$. If $\kappa\lambda=1$, then $\kappa:=\lambda^{-1}$, and $\kappa$ uniquely determines $\lambda$.
                        then $\kappa=\lambda$ if and only if $\kappa^2=1$, which implies $\kappa=\pm1$. So exclude $[\pm1]$ from our set $D$. Still for other pairs, $\kappa\lambda=1$, we proceed:
                        \[\epsilon=\enspace[1]\cdot[-1]\prod_{\{\kappa\lambda\in D\}}\kappa\lambda\enspace=\enspace[-1]\prod_{\{\kappa\lambda\in D\}}[1]=-1\]
                        As we bring back $[\pm1]$ in the product, we see $\epsilon=-1$. Thus $\alpha^{(p-1)/2}\equiv -1\pmod{p}$.
    \end{enumerate} 

\end{Proof}
\newpage
\begin{Def}[Quadratic non-residue]
    
    Let $p$ be an odd prime, and $\alpha\in\mathbb{Z}_p^*$. Then $\alpha$ is a quadratic non-residue modulo $p$ if $\alpha\notin\qres$.
\end{Def}
\noindent
We extend the definition of a Quadratic residue with the Legendre Symbol.
\begin{Func}[Legendre Symbol]

    Let $p$ be an odd prime, and $\alpha\in\mathbb{Z}_p^*$. Then the Legendre Symbol is defined as:
    \[
    \left(\frac{\alpha}{p}\right) = \begin{cases}
        \hspace{.8em}1 & \text{if } \alpha\in\qres\\
        -1 & \text{if } \alpha\notin\qres\\
        \hspace{.8em}0 & \text{if } \alpha\equiv 0\pmod{p}
    \end{cases}
    \]
\end{Func}