\section{Residue Classes}
We've spoken before about residue classes in (\ref{def:residue_class}), 
but we'll go into more detail here.

\begin{theo}[Residue Intervals]
   
    Remainders modular $n\in\mathbb{Z}:n>1$, denoted $\mathbb{Z}_n$, is the interval $[0,(n-1)]$.
    As we pass $n-1$, we loop back to $0$. Yielding a general interval of $[x,x+(n-1)]$ for $x\in\mathbb{Z}$.\\

    \noindent
    Adding and multiplying residues shifts to some other position in the interval.
    \begin{itemize}
        \item \textbf{Addition:} $[(a+b)$ mod $n]:=[a] + [b] = [a+b] = [c]\Longleftrightarrow a+b\equiv c\pmod{n}$
        \item \textbf{Multiplication:} $[(a\cdot b)$ mod $n]:=[a]\cdot[b] = [a\cdot b]=[c]\Longleftrightarrow a\cdot b\equiv c \pmod{n}$
    \end{itemize}

    \noindent
    If $n$ is odd, then our interval is $[-(n-1)/2,(n-1)/2]$. If even, then $[-n/2,n/2-1]$.
\end{theo}
\newpage
\noindent
\textbf{Example:} Consider tables $\mathbb{Z}_5$ and $\mathbb{Z}_6$:
\begin{table}[h!]
    \setlength{\tabcolsep}{10pt} % Adjust column separation
    \renewcommand{\arraystretch}{1.2} % Adjust row separation
    \centering
\begin{tabular}{|*{14}{c|}}
    
    
    \hline
   \cellcolor{white}$a$ & $0$ & $1$ & $2$ & \cellcolor{OliveGreen!40}$3$ &\cellcolor{OliveGreen!40} $4$ &\cellcolor{OliveGreen!40} $5$ &\cellcolor{OliveGreen!40} $6$ &\cellcolor{OliveGreen!40} $7$ & $8$ & $9$ & $10$ & $11$ & $12$ \\
    \hline
       & $0$ & $1$ & $2$ & $3$ & $4$ & \cellcolor{OliveGreen!20}$0$ &\cellcolor{OliveGreen!20} $1$ &\cellcolor{OliveGreen!20} $2$ & $3$ & $4$ & $0$ & $1$ & $2$ \\
    \cline{2-14}
    \multirow{-2}{*}{$a\mod 5$}&0&-4&-3&\cellcolor{OliveGreen!20}-2&\cellcolor{OliveGreen!20}-1&\cellcolor{OliveGreen!20}0&-4&-3&-2&-1&0&-4&-3\\
    \hline
\end{tabular}
\end{table}

\noindent
Since $5$ is odd, our interval is $[-(4)/2,(4)/2]=[-2,2]$, which could be seen as the interval $a\in[3,7]$.

\noindent

\begin{table}[h!]
    \setlength{\tabcolsep}{10pt} % Adjust column separation
    \renewcommand{\arraystretch}{1.2} % Adjust row separation
    \centering
\begin{tabular}{|*{14}{c|}}
    \hline
    \cellcolor{white}$a$ & $0$ & $1$ & $2$ &\cellcolor{OliveGreen!40} $3$ &\cellcolor{OliveGreen!40} $4$ &\cellcolor{OliveGreen!40} $5$ &\cellcolor{OliveGreen!40} $6$ &\cellcolor{OliveGreen!40} $7$ &\cellcolor{OliveGreen!40} $8$ & $9$ & $10$ & $11$ & $12$ \\
    \hline
       & $0$ & $1$ & $2$ & $3$ & $4$ & $5$ &\cellcolor{OliveGreen!20} $0$ &\cellcolor{OliveGreen!20} $1$ &\cellcolor{OliveGreen!20} $2$ & $3$ & $4$ & $5$ & $0$ \\
    \cline{2-14}
    \multirow{-2}{*}{$a\mod 6$}&0&-5&-4&\cellcolor{OliveGreen!20}-3&\cellcolor{OliveGreen!20}-2&\cellcolor{OliveGreen!20}-1&\cellcolor{OliveGreen!20}0&-5&-4&-3&-2&-1&0\\
    \hline
\end{tabular}
\end{table}

\noindent
Since $6$ is even, our interval is $[-6/2,6/2-1]=[-3,2]$, which could be seen as the interval $a\in[3,8]$.\\
This interval is no different than $[0,5]$ or $[0,6]$, this shifting of the interval captures $[x,x+(n-1)]$.

\begin{Note}
    \textbf{Note:} We'll use $\alpha$: ``alpha''; $\beta$: ``beta''; and such as variables when discussing residue classes.
\end{Note}
\begin{theo}[Residue Class Operations]
    
    \label{theo:res_class_ops}

    Let $\alpha\in\mathbb{Z}_n$ be residue classes. Then: 
    \begin{itemize}
        \item \textbf{Additive Identity:} $\alpha + [0] = \alpha$; \textbf{Additive Inverse:} $\alpha + (-\alpha) = [0]$.
        \item \textbf{Multiplicative Identity:} $\alpha\cdot [1] = \alpha$; \textbf{Multiplicative Inverse:} $\alpha\cdot \alpha^{-1} = [1]$.
    \end{itemize}
    \noindent
    Moreover, \underline{\textbf{Residue classes form a ring} (\ref{def:ring}),} including distributive properties.
\end{theo}

\begin{theo}[Inverse Residue Classes]

    For $n\in\mathbb{Z}:n>1$,\\
    let $Z_n^*:=\{\alpha\in\mathbb{Z}_n\mid \gcd(\alpha,n)=1\}$, i.e., $Z_n^*$ contains elements in $\mathbb{Z}_n$ where $\alpha^{-1}$ exists.
\begin{itemize}
    \item If $n$ is prime, then $Z_n^*=\mathbb{Z}_n\setminus\{[0]\}$, i.e., $Z_n^*$ contains all elements in $\mathbb{Z}_n$ except $[0]$.
    \item If $n$ is composite, then $Z_n^*\subsetneq\mathbb{Z}_n\setminus \{[0]\}$.
\end{itemize}
Moreover, $Z_n^*$ forms a group under multiplication. Therefore for all $\beta\in Z_n^*$, we have $\alpha\beta\in Z_n^*$.
\end{theo}
\begin{Note}
    \textbf{Note:} The symbol $\subsetneq$ denotes a proper subset. If $A\subsetneq B$, then $A$ is a subset of $B$ but not equal to $B$.
\end{Note}
\newpage

\noindent
\begin{Proof}[Residue Class Inverses]

\textbf{Primes:} The congruence $\alpha z \equiv 1\pmod{n}$ has a solution $z$ for all $\alpha\in\mathbb{Z}_n$ if $gcd(\alpha,n)=1$ (\ref{theo:co_mod_mult_id}).\\

\noindent
\textbf{Composites:} $Z_n^*\subsetneq\mathbb{Z}_n\setminus\{[0]\}$. If $d:=gcd(\alpha,n)\mid n$, and $1<d<n$, then $d\neq0$ and $\alpha\notin Z_n^*$ (\ref{theo:mod_mult_id}).
We say $d<n$, otherwise $n\equiv 0\pmod{n}$ where $d=n$.\\

\noindent
\textbf{Multiplicative Group:} 
\begin{itemize}
    \item \textbf{Inverse:} Every element in $Z_n^*$ has an inverse.
    \item \textbf{Closure:} Therefore $\alpha\beta\in Z_n^*$, as $(\alpha^{-1})\alpha\beta\equiv\beta\pmod{n}$ and $(\beta^{-1})\beta\alpha\equiv\alpha\pmod{n}$.
\end{itemize}

\end{Proof}

\begin{theo}[Inverse Operations]

    Let $\alpha,\beta,\gamma\in\mathbb{Z}_n$ be residue classes. Then: 
    \begin{itemize}
        \item \textbf{Inverse of Inverse:} $(\alpha^{-1})^{-1} = \alpha$
        \item \textbf{Product of Inverse:} $(\alpha\cdot\beta)^{-1} = \alpha^{-1}\cdot\beta^{-1}$
        \item \textbf{Inverse Division:} $\alpha/\beta = \alpha\cdot\beta^{-1}$
        \item \textbf{Cancellation Law:} $\alpha\beta = \alpha\gamma\implies\beta=\gamma\Longleftrightarrow\alpha\in Z_n^*$.
    \end{itemize}
\end{theo}
\begin{theo}[Residue Powers Identities]
    
    Powers work similarly to integers. For $\alpha,\beta\in\mathbb{Z}_n$ and $k,l\in\mathbb{Z}$, which also hold for $\alpha,\beta\in \mathbb{Z}_n^*$:
    \begin{itemize}
        \item \textbf{Zero Power:} $\alpha^0 = [1]$
        \item \textbf{General Powers:} $\alpha^1 = \alpha$ and $\alpha^2=\alpha\cdot\alpha$ and so on.
        \item \textbf{Inverse Power:} Inverse $\alpha^k$ is $(\alpha^{-1})^k$.
        \item \textbf{Power of a Power:} $(\alpha^l)^k = \alpha^{lk}= (\alpha^k)^l$.
        \item \textbf{Product of Powers:} $\alpha^k\cdot\alpha^l = \alpha^{k+l}$.
        \item \textbf{Quotient of Powers:} $\alpha^k/\alpha^l = \alpha^{k-l}$.
        \item \textbf{Power of a Product:} $(\alpha\beta)^k = \alpha^k\cdot\beta^k$.
    \end{itemize}
\end{theo}

\newpage
\noindent
We may now generalize the Chinese Remainder Theorem (\ref{theo:crt}) under residue classes.
\begin{theo}[Chinese Remainder Map]

    \label{theo:crt_map}
    
    Let $\{n_i\}_{i=1}^k\in\mathbb{Z}^+$ all be pairwise coprime, and $n:=\prod_{i=1}^k n_i$. We define the map:
    \begin{align*}
        \theta: \mathbb{Z}_n &\to \mathbb{Z}_{n_1} \times \cdots \times \mathbb{Z}_{n_k} \\
        [a]_n &\mapsto ([a]_{n_1}, \dots, [a]_{n_k})
    \end{align*}
    \noindent
    For $\mathbb{Z}_n$ (Residue classes modulo $n$), we can visualize:
    \begin{align*}
        \theta([a]_n) = \begin{cases}
            [a]_{n_1} & \text{mod } n_1 \\
            [a]_{n_2} & \text{mod } n_2 \\
            \vdots & \vdots \\
            [a]_{n_k} & \text{mod } n_k
        \end{cases}
    \end{align*}
    \noindent
    Where $[a]_n$ can be thought of as our $a$ solution in the system of congruences:
    \begin{align*}
        a &\equiv a_1 \pmod{n_1} \\
        a &\equiv a_2 \pmod{n_2} \\
        &\hspace*{.5em}\vdots \\
        a &\equiv a_k \pmod{n_k},
    \end{align*}
    extending the Chinese Remainder Theorem to classes produced by $a$ mod $n$, not just $a$.\\
    \begin{enumerate}
        \item [(i)] $\theta$ is unambiguous, i.e., any $[a]_n\in\mathbb{Z}_n$ has a unique image in $\mathbb{Z}_{n_1}\times\cdots\times\mathbb{Z}_{n_k}$.
        \item [(ii)] $\theta$ forms a ring isomorphism, meaning:
        \begin{enumerate}
            \item [(a)] $\theta$ is a bijection (one-to-one and onto), i.e., there's an inverse map $\theta^{-1}$, which is the process of finding $a$ from $[a]_n$ (The Chinese Remainder Theorem).
            \item [(b)] $\theta$ preserves addition and multiplication, since residues form a ring. Thus, operating on residue classes only affects the inputs to the map (\ref{theo:res_class_ops}).
        \end{enumerate}
    \end{enumerate}
\end{theo}    
\begin{Tip}
    The Chinese Remainder Map ($\theta$) generates a system of congruences, while the Chinese Remainder Theorem solves them $(\theta^{-1})$.
\end{Tip}
\newpage