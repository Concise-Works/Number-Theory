\section{Euler's Theorem \& Fermat's Little Theorem}

\noindent
We know residues repeat in $\mathbb{Z}_n$ after $n$ steps, forming a cycle. We've been used to seeing
such cycles end and start at $0$. However, when we restrict ourselves to $\mathbb{Z}_n^*$, 0 is excluded. We'll find that 
cycles in $\mathbb{Z}_n^*$ jump by powers of $\alpha\in\mathbb{Z}_n^*$, starting and ending at 1.\\
\begin{Def}[Multiplicative Order]
    
    Let $n\in\mathbb{Z^+}$ and $a\in\mathbb{Z}_n^*$. The multiplicative order of $a$ modulo $n$ is the smallest positive integer $k$ such that $a^k\equiv 1\pmod{n}$.
\end{Def}

\newpage
\begin{theo}[Multiplicative Order Interval]

    \label{theo:mult_order_interval}

    Let $n\in\mathbb{Z^+}$ and $\alpha\in\mathbb{Z}_n^*$. The multiplicative order $k$ repeats every $k$ steps.
    Therefore, for every index:
    \begin{itemize}
        \item $i\in\mathbb{Z}$, $\alpha^i\equiv 1 \pmod{n}\Longleftrightarrow k\mid i$, i.e., $i\equiv 0\pmod{k}$.
        \item $i,j\in\mathbb{Z},$ $\alpha^i\equiv\alpha^j\pmod{n}\Longleftrightarrow i \equiv j\pmod{k}$.
    \end{itemize}
     
\end{theo}

\textbf{Example:} Let $n=7$ and take $\alpha=1,\dots,6$.\\

\begin{minipage}{0.3\textwidth}
    \noindent
    \vspace{-1em}
    \begin{itemize}
        \item $\alpha=1$: order $1$.
        \item $\alpha=2$: order $3$.
        \item $\alpha=3$: order $6$.
        \item $\alpha=4$: order $3$.
        \item $\alpha=5$: order $6$.
        \item $\alpha=6$: order $2$.
    \end{itemize}
    \end{minipage}
\begin{minipage}{0.5\textwidth}
    \[
    \begin{array}{|c|c|c|c|c|c|c|}
    \hline
    i & 1 & 2 & 3 & 4 & 5 & 6 \\
    \hline
    1^i \text{ mod } 7 & 1 & 1 & 1 & 1 & 1 & 1 \\
    \rowcolor{OliveGreen!10}2^i \text{ mod } 7 & 2 & 4 & 1 & 2 & 4 & 1 \\
    3^i \text{ mod } 7 & 3 & 2 & 6 & 4 & 5 & 1 \\
    \rowcolor{OliveGreen!10}4^i \text{ mod } 7 & 4 & 2 & 1 & 4 & 2 & 1 \\
    5^i \text{ mod } 7 & 5 & 4 & 6 & 2 & 3 & 1 \\
    \rowcolor{OliveGreen!10}6^i \text{ mod } 7 & 6 & 1 & 6 & 1 & 6 & 1 \\
    \hline
    \end{array}
    \]
    \end{minipage}

    \vspace{1em}
    \noindent
    We see that $\alpha=2$ for $i=3$ and $i=6$, $3$ is the smallest $k$ such that $2^k\equiv 1\pmod{7}$.
    Additionally, we see the relationship $2^i\equiv 2^j\pmod{7}$ if and only if $i\equiv j\pmod{3}$.
 
    \begin{Note}
        \textbf{Note:} For set $S$, $\prod_{\beta\in S}\beta$ is the product of all elements in $S$. 
    \end{Note}
    \begin{theo}[Euler's Theorem]
        
        Let $n\in\mathbb{Z^+}$ and $\alpha\in\mathbb{Z}_n^*$. Then $\alpha^{\varphi(n)}\equiv 1\pmod{n}$, when multiplicative order $\alpha$ divides $\varphi(n)$.
    \end{theo}
    \begin{Proof}[Euler's Theorem]
        For every $\beta\in\mathbb{Z}_n^*$, theres an $\alpha\in\mathbb{Z}_n^*$ such that $\alpha\beta\in\mathbb{Z}_n^*$ (\ref{theo:res_class_ops}) $\varphi(n)$ and$\mathbb{Z}_n^*$:
        \[\prod_{\beta\in\mathbb{Z}_n^*}\beta=\prod_{\beta\in\mathbb{Z}_n^*}\alpha\beta=\alpha^{\varphi(n)}\prod_{\beta\in\mathbb{Z}_n^*}\beta\]
        Taking the inverse of $\prod_{\beta\in\mathbb{Z}_n^*}\beta$ results in $1=\alpha^{\varphi(n)}$. \textbf{Note:} $\varphi(n):=|\mathbb{Z}_n^*|$ and both products $\beta$ and $\alpha\beta$ produce the same set as we cycle inverse residues.
        

    \end{Proof}

    \newpage

    \begin{theo}[Fermat's Little Theorem]
        
        For every prime $p$ and residue classes $\alpha\in\mathbb{Z}_p^*$: $\alpha^{p} \equiv \alpha \pmod{p}$.
    \end{theo}

    \begin{Proof}[Fermat's Little Theorem]
        Since $p$ is prime, $\varphi(p)=p-1$. By Euler's Theorem, $\alpha^{p-1} \equiv 1 \pmod{p}$. 
        Therefore, multiplying $\alpha$ to both sides yields, $\alpha^{p-1} \cdot \alpha \equiv 1 \cdot \alpha \pmod{p}$. Hence $\alpha^p \equiv \alpha \pmod{p}$.
    \end{Proof}

    \begin{Def}[Primitive Root]
        
        Let $n\in\mathbb{Z^+}$ and $\alpha\in\mathbb{Z}_n^*$. If the multiplicative order of $\alpha$ modulo $n$ is $\varphi(n)$, then $\alpha$ is a primitive root modulo $n$.
    \end{Def}

    \begin{theo}[Multiplicative Order of Powers]

        \label{theo:mult_order_powers}
            
        If $\alpha \in \mathbb{Z}_n^*$ has multiplicative order $k$. Then from every new residue produced by
         $\alpha^m$ where $m \in \mathbb{Z}$, the multiplicative order of $\alpha^m$ is:
        \[\dfrac{k}{\gcd(m, k)}\]
    \end{theo}
    \textbf{Example:} Let $n=7$ and $\alpha=1,\dots,6$.\\
    \begin{minipage}{0.6\textwidth}
        \noindent
        \begin{itemize}
            \item $\alpha=2^1=2$: has order $\dfrac{3}{\gcd(1,3)}=3$.
            \item $\alpha=2^2=4$: has order $\dfrac{3}{\gcd(2,3)}=3$.
            \item $\alpha=2^3=8=1$: has order $\dfrac{3}{\gcd(3,3)}=1$.
        \end{itemize}
        \end{minipage}
    \begin{minipage}{0.4\textwidth}
        \[
        \begin{array}{|c|c|c|c|c|c|c|}
        \hline
        i & 1 & 2 & 3 & 4 & 5 & 6 \\
        \hline
        1^i \text{ mod } 7 & 1 & 1 & 1 & 1 & 1 & 1 \\
        \rowcolor{OliveGreen!10}2^i \text{ mod } 7 & 2 & 4 & 1 & 2 & 4 & 1 \\
        3^i \text{ mod } 7 & 3 & 2 & 6 & 4 & 5 & 1 \\
        \rowcolor{OliveGreen!10}4^i \text{ mod } 7 & 4 & 2 & 1 & 4 & 2 & 1 \\
        5^i \text{ mod } 7 & 5 & 4 & 6 & 2 & 3 & 1 \\
        \rowcolor{OliveGreen!10}6^i \text{ mod } 7 & 6 & 1 & 6 & 1 & 6 & 1 \\
        \hline
        \end{array}
        \]
        \end{minipage}

        \vspace{1em}
        \noindent
        Raising $\alpha=2^3$ gave us 8, which is congruent to 1 modulo 7, and $\alpha=1$ has order 1. Moreover,
        \underline{residues 3 and 5 are primitive roots.}\\

        \newpage 
        \noindent
        We will abstract variables to emphasize $\alpha^m$ being some other residue after shifting by $m$.
        \begin{Proof}[Multiplicative Order of Powers]
            We define $\alpha^m:=\beta$. Then $\beta$'s multiplicative order is the smallest $l$ such that $\beta^l\equiv 1\pmod{n}$.
            Then by (\ref{theo:mult_order_interval}),
        \[\alpha^{m\cdot l}\equiv 1\pmod*{n}\Longleftrightarrow ml\equiv 0\pmod*{k}\]
        We can drop $m$ as a common factor by taking $\gcd(m,k)$ from $k$ (\ref{theo:mod_mult_id}), yielding:
        \[l\equiv 0\pmod*{\dfrac{k}{\gcd(m,k)}}\]
        \noindent
        Thus we have $\beta^l\equiv 1\pmod{n}\Longleftrightarrow l\equiv 0\pmod*{\dfrac{k}{\gcd(m,k)}}$ satisfying the definition.

        \end{Proof}


    